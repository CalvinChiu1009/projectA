(function(t){function a(a){for(var s,r,n=a[0],c=a[1],l=a[2],u=0,p=[];u<n.length;u++)r=n[u],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&p.push(o[r][0]),o[r]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);d&&d(a);while(p.length)p.shift()();return i.push.apply(i,l||[]),e()}function e(){for(var t,a=0;a<i.length;a++){for(var e=i[a],s=!0,n=1;n<e.length;n++){var c=e[n];0!==o[c]&&(s=!1)}s&&(i.splice(a--,1),t=r(r.s=e[0]))}return t}var s={},o={app:0},i=[];function r(a){if(s[a])return s[a].exports;var e=s[a]={i:a,l:!1,exports:{}};return t[a].call(e.exports,e,e.exports,r),e.l=!0,e.exports}r.m=t,r.c=s,r.d=function(t,a,e){r.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:e})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,a){if(1&a&&(t=r(t)),8&a)return t;if(4&a&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(r.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var s in t)r.d(e,s,function(a){return t[a]}.bind(null,s));return e},r.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(a,"a",a),a},r.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},r.p="/projectA/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],c=n.push.bind(n);n.push=a,n=n.slice();for(var l=0;l<n.length;l++)a(n[l]);var d=c;i.push([0,"chunk-vendors"]),e()})({0:function(t,a,e){t.exports=e("56d7")},"17ea":function(t,a,e){"use strict";var s=e("5a04"),o=e.n(s);o.a},"287c":function(t,a,e){},"2c52":function(t,a,e){},"35df":function(t,a,e){"use strict";var s=e("f2e7"),o=e.n(s);o.a},"3dc6":function(t,a,e){"use strict";var s=e("d4e5"),o=e.n(s);o.a},"3ed2":function(t,a,e){"use strict";var s=e("b2a3"),o=e.n(s);o.a},"41ad":function(t,a,e){},"46f4":function(t,a,e){},"4a2f":function(t,a,e){"use strict";var s=e("b1d9"),o=e.n(s);o.a},"56d7":function(t,a,e){"use strict";e.r(a);e("4de4"),e("e260"),e("e6cf"),e("cca6"),e("a79d");var s,o=e("2b0e"),i=e("bc3a"),r=e.n(i),n=e("a7fe"),c=e.n(n),l=(e("4989"),e("ecee")),d=e("c074"),u=e("ad3d"),p=e("f2d1"),m=e("9062"),_=e.n(m),v=(e("e40d"),e("7bb1")),f=e("427f"),g=e.n(f),h=e("a925"),b=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},C=[],P={name:"App"},A=P,E=(e("5c0b"),e("2877")),O=Object(E["a"])(A,b,C,!1,null,null,null),x=O.exports,y=e("8c4f"),N=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("form",{staticClass:"form-signin",on:{submit:function(a){return a.preventDefault(),t.signin(a)}}},[e("h1",{staticClass:"h3 mb-3 font-weight-normal"},[t._v("後台管理系統")]),e("label",{staticClass:"sr-only",attrs:{for:"inputEmail"}},[t._v("Email address")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.user.username,expression:"user.username"}],staticClass:"form-control",attrs:{type:"email",id:"inputEmail",placeholder:"Email address",required:"",autofocus:""},domProps:{value:t.user.username},on:{input:function(a){a.target.composing||t.$set(t.user,"username",a.target.value)}}}),t._v(" "),e("label",{staticClass:"sr-only",attrs:{for:"inputPassword"}},[t._v("Password")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],staticClass:"form-control",attrs:{type:"password",id:"inputPassword",placeholder:"Password",required:""},domProps:{value:t.user.password},on:{input:function(a){a.target.composing||t.$set(t.user,"password",a.target.value)}}}),t._v(" "),e("div",{staticClass:"checkbox mb-3"}),e("button",{staticClass:"btn btn-lg btn-dark btn-block",attrs:{type:"submit"},on:{enter:t.signin,click:function(a){return a.preventDefault(),t.signin(a)}}},[t._v("登入")]),e("p",{staticClass:"mt-5 mb-3 text-muted"},[t._v("© 2017-2020")])])])},j=[],U={name:"Login",data:function(){return{user:{username:"cc.paparun@gmail.com",password:""}}},methods:{signin:function(){var t=this,a="".concat(Object({NODE_ENV:"production",BASE_URL:"/projectA/"}).VUE_APP_APIPATH,"/admin/signin");this.$http.post(a,t.user).then((function(a){console.log(a.data),a.data.success&&t.$router.push("/admin/products")}))}}},w=U,k=(e("9fea"),Object(E["a"])(w,N,j,!1,null,"10aea969",null)),$=k.exports,L=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"wrap"},[e("Navbar",{staticClass:"navbar"}),e("Alert"),e("div",{staticClass:"content"},[e("main",{staticClass:"text-center mx-auto",attrs:{id:"main",role:"main"}},[e("router-view")],1)]),e("Footer",{staticClass:"footer"})],1)},V=[],T=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"topbar"},[e("nav",{staticClass:"navbar shadow-sm navbar-expand-lg bg-light navbar-light navbar-fixed-top"},[e("div",{staticClass:"menu"},[e("router-link",{staticClass:"logo-img",attrs:{to:"/"}},[e("img",{staticClass:"logo",attrs:{src:"https://imgur.com/rJw4OTk.jpg"}})]),e("ul",{staticClass:"navbar-nav ul-l"},[e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link li-l",attrs:{to:"/"}},[t._v("首頁")])],1),e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link li-l",attrs:{to:"/about"}},[t._v("關於")])],1),e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link li-l",attrs:{to:"/campaign"}},[t._v("活動")])],1),e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link li-l",attrs:{to:"/product_list"}},[t._v("商品")])],1)]),e("ul",{staticClass:"navbar-nav align-items-center ul-r"},[e("li",{staticClass:"nav-item li-item li-r"},[e("router-link",{staticClass:"nav-link",attrs:{to:"/customer_order"}},[e("i",{staticClass:"fas fa-shopping-cart h4",attrs:{title:"購物車"}}),0!=t.cart.carts.length?e("span",{staticClass:"cartQty"},[t._v(t._s(t.cart.carts.length))]):t._e()])],1),e("li",{staticClass:"nav-item li-item li-r"},[e("router-link",{staticClass:"nav-link",attrs:{to:"/login"}},[e("i",{staticClass:"fas fa-user-circle h4",attrs:{title:"管理員登入"}})])],1)]),e("a",{staticClass:"showmenu",attrs:{href:"#"},on:{click:t.showMenu}},[e("i",{staticClass:"fas fa-bars"})]),e("ul",{staticClass:"rwd-menu",class:{"show-rwd":t.menuPop}},[e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",attrs:{to:"/"}},[t._v("首頁")])],1),e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",attrs:{to:"/about"}},[t._v("關於")])],1),e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",attrs:{to:"/campaign"}},[t._v("促銷活動")])],1),e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",attrs:{to:"/product_list"}},[t._v("商品")])],1),e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",attrs:{to:"/customer_order"}},[e("span",[t._v("購物車("+t._s(t.cart.carts.length)+")")])])],1),e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",attrs:{to:"/login"}},[e("span",[t._v("管理員登入")])])],1)])],1)])])},D=[],S=e("5530"),M=e("2f62"),I={name:"Navbar",data:function(){return{menuPop:!1}},methods:Object(S["a"])(Object(S["a"])({},Object(M["b"])(["getWishNum","getCart"])),{},{showMenu:function(){this.menuPop=!this.menuPop}}),computed:Object(S["a"])({},Object(M["c"])(["wishNum","cart"])),created:function(){this.getCart()}},R=I,H=(e("ef6c"),Object(E["a"])(R,T,D,!1,null,"7f1f99c4",null)),B=H.exports,q=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("nav",{staticClass:"col-md-3 col-lg-2 d-md-block bg-light sidebar collapse",attrs:{id:"sidebarMenu"}},[e("div",{staticClass:"sidebar-sticky pt-3"},[t._m(0),e("ul",{staticClass:"nav flex-column mb-2"},[e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",attrs:{to:"/admin/products"}},[t._v("產品列表")])],1),e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",attrs:{to:"/admin/orders"}},[t._v("訂單列表")])],1),e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",attrs:{to:"/admin/coupon"}},[t._v("優惠券")])],1)])])])])},F=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("h6",{staticClass:"d-flex justify-content-between align-items-center px-3 mt-4 mb-2 text-muted"},[e("span",[t._v("管理功能")]),e("a",{staticClass:"d-flex align-items-center text-muted",attrs:{href:"#","aria-label":"Add a new report"}},[e("span",{attrs:{"data-feather":"plus-circle"}})])])}],G={name:"Sidebar"},W=G,J=(e("17ea"),Object(E["a"])(W,q,F,!1,null,"23812908",null)),z=J.exports,Q=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"message-alert"},t._l(t.messages,(function(a,s){return e("div",{key:s,staticClass:"alert alert-dismissible",class:"alert-"+a.status},[t._v(" "+t._s(a.message)+" "),e("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(a){return t.removeMessage(s)}}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])})),0)},Y=[],Z=(e("4160"),e("a434"),e("159b"),{name:"Navbar",data:function(){return{messages:[]}},methods:{updateMessage:function(t,a){var e=Math.floor(new Date/1e3);this.messages.push({message:t,status:a,timestamp:e}),this.removeMessageWithTiming(e)},removeMessage:function(t){this.messages.splice(t,1)},removeMessageWithTiming:function(t){var a=this;setTimeout((function(){a.messages.forEach((function(e,s){e.timestamp===t&&a.messages.splice(s,1)}))}),5e3)}},created:function(){var t=this;t.$bus.$on("message:push",(function(a){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"warning";t.updateMessage(a,e)}))}}),K=Z,X=(e("4a2f"),Object(E["a"])(K,Q,Y,!1,null,null,null)),tt=X.exports,at=function(){var t=this,a=t.$createElement;t._self._c;return t._m(0)},et=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"footer"},[e("h4",[t._v("聯絡我們")]),e("p",{staticClass:"ft-info"},[e("i",{staticClass:"fas fa-phone-volume"}),t._v(" 04-1234567 ")]),e("p",{staticClass:"ft-info"},[e("i",{staticClass:"fas fa-envelope"}),t._v(" daddies@ddtalk.com ")]),e("p",[e("span",[t._v("Follow us on")]),e("br"),e("a",{staticClass:"fb-link",attrs:{href:"#"}},[e("i",{staticClass:"fab fa-facebook"})]),e("a",{staticClass:"ig-link",attrs:{href:"#"}},[e("i",{staticClass:"fab fa-instagram"})]),e("br"),e("span",{staticClass:"footnote"},[t._v("｜ 僅作為個人練習用，非商業用途 ｜")])])])}],st={name:"Footer"},ot=st,it=(e("ccda"),Object(E["a"])(ot,at,et,!1,null,"2ff792c1",null)),rt=it.exports,nt={name:"Dashboard",components:{Navbar:B,Sidebar:z,Alert:tt,Footer:rt}},ct=nt,lt=(e("84ba"),Object(E["a"])(ct,L,V,!1,null,"459f93f4",null)),dt=lt.exports,ut=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("Topbar"),e("Alert"),e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row"},[e("Sidebar"),e("main",{staticClass:"col-md-9 ml-sm-auto col-lg-10 px-md-4",attrs:{role:"main"}},[e("router-view")],1)],1)])],1)},pt=[],mt=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("nav",{staticClass:"navbar navbar-dark sticky-top bg-dark flex-md-nowrap p-0 shadow"},[e("a",{staticClass:"navbar-brand col-md-3 col-lg-2 mr-0 px-3",attrs:{href:"#"}},[t._v("Daddies夥伴後台")]),t._m(0),e("ul",{staticClass:"navbar-nav px-3"},[e("li",{staticClass:"nav-item text-nowrap"},[e("a",{staticClass:"nav-link",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.signOut(a)}}},[t._v("登出")])])])])])},_t=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("button",{staticClass:"navbar-toggler position-absolute d-md-none collapsed",attrs:{type:"button","data-toggle":"collapse","data-target":"#sidebarMenu","aria-controls":"sidebarMenu","aria-expanded":"false","aria-label":"Toggle navigation"}},[e("span",{staticClass:"navbar-toggler-icon"})])}],vt={name:"Topbar",methods:{signOut:function(){var t=this,a="".concat(Object({NODE_ENV:"production",BASE_URL:"/projectA/"}).VUE_APP_APIPATH,"/logout");this.$http.post(a).then((function(a){console.log(a.data),a.data.success&&t.$router.push("/")}))}}},ft=vt,gt=Object(E["a"])(ft,mt,_t,!1,null,null,null),ht=gt.exports,bt={name:"Management",components:{Topbar:ht,Sidebar:z,Alert:tt}},Ct=bt,Pt=Object(E["a"])(Ct,ut,pt,!1,null,null,null),At=Pt.exports,Et=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"vld-parent"},[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}})],1),e("div",{staticClass:"text-right mt-4"},[e("button",{staticClass:"btn btn-primary",on:{click:function(a){return t.openModal(!0)}}},[t._v("建立新的產品")])]),e("table",{staticClass:"table mt-4"},[t._m(0),e("tbody",t._l(t.products,(function(a){return e("tr",{key:a.id},[e("td",[t._v(t._s(a.category))]),e("td",[t._v(t._s(a.title))]),e("td",[t._v(t._s(t._f("currency")(a.origin_price)))]),e("td",[t._v(t._s(t._f("currency")(a.price)))]),e("td",[a.is_enabled?e("span",{staticClass:"text-success"},[t._v("啟用")]):e("span",[t._v("未啟用")])]),e("button",{staticClass:"btn btn-outline-primary btn-sm mr-1 mt-2",on:{click:function(e){return t.openModal(!1,a)}}},[t._v("編輯")]),e("button",{staticClass:"btn btn-outline-danger btn-sm mt-2",on:{click:function(e){return t.openDelModal(a)}}},[t._v("刪除")])])})),0)]),e("Pagination",{attrs:{pagination:t.pagination},on:{changePage:t.getProducts}}),e("div",{staticClass:"modal fade",attrs:{id:"productModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[e("div",{staticClass:"modal-content border-0"},[t._m(1),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-4"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"image"}},[t._v("輸入圖片網址")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.imageUrl,expression:"tempProduct.imageUrl"}],staticClass:"form-control",attrs:{type:"text",id:"image",placeholder:"請輸入圖片連結"},domProps:{value:t.tempProduct.imageUrl},on:{input:function(a){a.target.composing||t.$set(t.tempProduct,"imageUrl",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"customFile"}},[t._v(" 或 上傳圖片 "),t.status.fileUploading?e("i",{staticClass:"fas fa-spinner fa-spin"}):t._e()]),e("input",{ref:"files",staticClass:"form-control",attrs:{type:"file",id:"customFile"},on:{change:t.uploadFile}})]),e("img",{staticClass:"img-fluid",attrs:{img:"https://images.unsplash.com/photo-1483985988355-763728e1935b?ixlib=rb-0.3.5&ixid=eyJhcHBfaWQiOjEyMDd9&s=828346ed697837ce808cae68d3ddc3cf&auto=format&fit=crop&w=1350&q=80",src:t.tempProduct.imageUrl,alt:""}})]),e("div",{staticClass:"col-sm-8"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"title"}},[t._v("標題")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.title,expression:"tempProduct.title"}],staticClass:"form-control",attrs:{type:"text",id:"title",placeholder:"請輸入標題"},domProps:{value:t.tempProduct.title},on:{input:function(a){a.target.composing||t.$set(t.tempProduct,"title",a.target.value)}}})]),e("div",{staticClass:"form-row"},[e("div",{staticClass:"form-group col-md-6"},[e("label",{attrs:{for:"category"}},[t._v("分類")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.category,expression:"tempProduct.category"}],staticClass:"form-control",attrs:{type:"text",id:"category",placeholder:"請輸入分類"},domProps:{value:t.tempProduct.category},on:{input:function(a){a.target.composing||t.$set(t.tempProduct,"category",a.target.value)}}})]),e("div",{staticClass:"form-group col-md-6"},[e("label",{attrs:{for:"price"}},[t._v("單位")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.unit,expression:"tempProduct.unit"}],staticClass:"form-control",attrs:{type:"unit",id:"unit",placeholder:"請輸入單位"},domProps:{value:t.tempProduct.unit},on:{input:function(a){a.target.composing||t.$set(t.tempProduct,"unit",a.target.value)}}})])]),e("div",{staticClass:"form-row"},[e("div",{staticClass:"form-group col-md-6"},[e("label",{attrs:{for:"origin_price"}},[t._v("原價")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.origin_price,expression:"tempProduct.origin_price"}],staticClass:"form-control",attrs:{type:"number",id:"origin_price",placeholder:"請輸入原價"},domProps:{value:t.tempProduct.origin_price},on:{input:function(a){a.target.composing||t.$set(t.tempProduct,"origin_price",a.target.value)}}})]),e("div",{staticClass:"form-group col-md-6"},[e("label",{attrs:{for:"price"}},[t._v("售價")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.price,expression:"tempProduct.price"}],staticClass:"form-control",attrs:{type:"number",id:"price",placeholder:"請輸入售價"},domProps:{value:t.tempProduct.price},on:{input:function(a){a.target.composing||t.$set(t.tempProduct,"price",a.target.value)}}})])]),e("hr"),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"description"}},[t._v("產品描述")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.description,expression:"tempProduct.description"}],staticClass:"form-control",attrs:{type:"text",id:"description",placeholder:"請輸入產品描述"},domProps:{value:t.tempProduct.description},on:{input:function(a){a.target.composing||t.$set(t.tempProduct,"description",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"content"}},[t._v("說明內容")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.content,expression:"tempProduct.content"}],staticClass:"form-control",attrs:{type:"text",id:"content",placeholder:"請輸入產品說明內容"},domProps:{value:t.tempProduct.content},on:{input:function(a){a.target.composing||t.$set(t.tempProduct,"content",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("div",{staticClass:"form-check"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.is_enabled,expression:"tempProduct.is_enabled"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:"is_enabled"},domProps:{checked:Array.isArray(t.tempProduct.is_enabled)?t._i(t.tempProduct.is_enabled,null)>-1:t.tempProduct.is_enabled},on:{change:function(a){var e=t.tempProduct.is_enabled,s=a.target,o=!!s.checked;if(Array.isArray(e)){var i=null,r=t._i(e,i);s.checked?r<0&&t.$set(t.tempProduct,"is_enabled",e.concat([i])):r>-1&&t.$set(t.tempProduct,"is_enabled",e.slice(0,r).concat(e.slice(r+1)))}else t.$set(t.tempProduct,"is_enabled",o)}}}),e("label",{staticClass:"form-check-label",attrs:{for:"is_enabled"}},[t._v("是否啟用")])])])])])]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("取消")]),e("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.updateProduct}},[t._v("確認")])])])])]),e("div",{staticClass:"modal fade",attrs:{id:"delProductModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[e("div",{staticClass:"modal-content border-0"},[t._m(2),e("div",{staticClass:"modal-body"},[t._v(" 是否刪除 "),e("strong",{staticClass:"text-danger"},[t._v(t._s(t.tempProduct.title))]),e("span",[t._v("? 商品刪除後將無法恢復。")])]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("取消")]),e("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:t.deleteProduct}},[t._v("確認刪除")])])])])])],1)},Ot=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("tr",[e("th",{attrs:{width:"120"}},[t._v("分類")]),e("th",[t._v("產品名稱")]),e("th",{attrs:{width:"120"}},[t._v("原價")]),e("th",{attrs:{width:"120"}},[t._v("售價")]),e("th",{attrs:{width:"120"}},[t._v("是否啟用")]),e("th",{attrs:{width:"120"}},[t._v("編輯")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal-header bg-dark text-white"},[e("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[e("span",[t._v("新增產品")])]),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal-header bg-danger text-white"},[e("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[e("span",[t._v("刪除產品")])]),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}],xt=(e("99af"),e("1157")),yt=e.n(xt),Nt=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("nav",{attrs:{"aria-label":"Page navigation example"}},[e("ul",{staticClass:"pagination"},[e("li",{staticClass:"page-item",class:{disabled:!t.pagination.has_pre}},[e("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Previous"},on:{click:function(a){return a.preventDefault(),t.getOrders(t.pagination.current_page-1)}}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("«")])])]),t._l(t.pagination.total_pages,(function(a){return e("li",{key:a,staticClass:"page-item",class:{active:t.pagination.current_page===a}},[e("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.getOrders(a)}}},[t._v(t._s(a))])])})),e("li",{staticClass:"page-item",class:{disabled:!t.pagination.has_next}},[e("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Next"},on:{click:function(a){return a.preventDefault(),t.getOrders(t.pagination.current_page+1)}}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("»")])])])],2)])},jt=[],Ut={name:"Pagination",props:["pagination"],data:function(){return{}},methods:{getOrders:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=this,e="".concat(Object({NODE_ENV:"production",BASE_URL:"/projectA/"}).VUE_APP_APIPATH,"/api/").concat(Object({NODE_ENV:"production",BASE_URL:"/projectA/"}).VUE_APP_CUSTOMPATH,"/admin/orders?page=").concat(t);a.$store.dispatch("updateLoading",!0),this.$http.get(e,a.tempProduct).then((function(t){a.orders=t.data.orders,a.pagination=t.data.pagination,a.$store.dispatch("updateLoading",!1),console.log(t)}))},newPage:function(t){this.$emit("emitPage",t)}},computed:{isLoading:function(){return this.$store.state.isLoading}}},wt=Ut,kt=Object(E["a"])(wt,Nt,jt,!1,null,null,null),$t=kt.exports,Lt={name:"Products",data:function(){return{products:[],pagination:{},tempProduct:{},isNew:!1,status:{fileUploading:!1}}},components:{Pagination:$t},methods:{getProducts:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a="".concat(Object({NODE_ENV:"production",BASE_URL:"/projectA/"}).VUE_APP_APIPATH,"/api/").concat(Object({NODE_ENV:"production",BASE_URL:"/projectA/"}).VUE_APP_CUSTOMPATH,"/products?page=").concat(t),e=this;console.log(Object({NODE_ENV:"production",BASE_URL:"/projectA/"}).VUE_APP_APIPATH,Object({NODE_ENV:"production",BASE_URL:"/projectA/"}).VUE_APP_CUSTOMPATH),e.$store.dispatch("updateLoading",!0),this.$http.get(a).then((function(t){console.log(t.data),e.isLoading=!1,e.products=t.data.products,e.pagination=t.data.pagination,console.log("response.data.pagination:",t.data)}))},openModal:function(t,a){t?(this.tempProduct={},this.isNew=!0):(this.tempProduct=Object.assign({},a),this.isNew=!1),yt()("#productModal").modal("show")},openDelModal:function(t){console.log(t),this.tempProduct=t,yt()("#delProductModal").modal("show")},deleteProduct:function(){var t=this,a="".concat(Object({NODE_ENV:"production",BASE_URL:"/projectA/"}).VUE_APP_APIPATH,"/api/").concat(Object({NODE_ENV:"production",BASE_URL:"/projectA/"}).VUE_APP_CUSTOMPATH,"/admin/product/").concat(t.tempProduct.id);console.log(Object({NODE_ENV:"production",BASE_URL:"/projectA/"}).VUE_APP_APIPATH,Object({NODE_ENV:"production",BASE_URL:"/projectA/"}).VUE_APP_CUSTOMPATH),this.$http.delete(a).then((function(a){console.log(a.data),a.data.success?(yt()("#delProductModal").modal("hide"),t.getProducts()):(yt()("#delProductModal").modal("hide"),t.getProducts(),console.log("刪除失敗"))}))},updateProduct:function(){var t="".concat(Object({NODE_ENV:"production",BASE_URL:"/projectA/"}).VUE_APP_APIPATH,"/api/").concat(Object({NODE_ENV:"production",BASE_URL:"/projectA/"}).VUE_APP_CUSTOMPATH,"/admin/product"),a="post",e=this;e.isNew||(t="".concat(Object({NODE_ENV:"production",BASE_URL:"/projectA/"}).VUE_APP_APIPATH,"/api/").concat(Object({NODE_ENV:"production",BASE_URL:"/projectA/"}).VUE_APP_CUSTOMPATH,"/admin/product/").concat(e.tempProduct.id),a="put"),console.log(Object({NODE_ENV:"production",BASE_URL:"/projectA/"}).VUE_APP_APIPATH,Object({NODE_ENV:"production",BASE_URL:"/projectA/"}).VUE_APP_CUSTOMPATH),this.$http[a](t,{data:e.tempProduct}).then((function(t){console.log(t.data),t.data.success?(yt()("#productModal").modal("hide"),e.getProducts()):(yt()("#productModal").modal("hide"),e.getProducts(),console.log("新增失敗"))}))},uploadFile:function(){var t=this;console.log(this);var a=this.$refs.files.files[0],e=this,s=new FormData;s.append("file-to-upload",a);var o="".concat(Object({NODE_ENV:"production",BASE_URL:"/projectA/"}).VUE_APP_APIPATH,"/api/").concat(Object({NODE_ENV:"production",BASE_URL:"/projectA/"}).VUE_APP_CUSTOMPATH,"/admin/upload");e.status.fileUploading=!0,this.$http.post(o,s,{headers:{"Content-Type":"multipart/form-data"}}).then((function(a){console.log(a.data),e.status.fileUploading=!1,a.data.success?e.$set(e.tempProduct,"imageUrl",a.data.imageUrl):t.$bus.$emit("message:push",a.data.message,"danger")}))}},computed:{isLoading:function(){return this.$store.state.isLoading}},created:function(){this.getProducts()}},Vt=Lt,Tt=(e("d950"),Object(E["a"])(Vt,Et,Ot,!1,null,"01367bb8",null)),Dt=Tt.exports,St=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("Loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}}),e("table",{staticClass:"table mt-4"},[t._m(0),e("tbody",t._l(t.sortOrder,(function(a,s){return e("tr",{key:s,class:{"text-secondary":!a.is_paid}},[e("td",[t._v(t._s(t._f("date")(a.create_at)))]),e("td",[t._v(t._s(a.user.name))]),e("td",[t._v(t._s(a.user.tel))]),e("td",[t._v(t._s(a.user.email))]),e("td",[e("ul",{staticClass:"list-unstyled"},t._l(a.products,(function(a,s){return e("li",{key:s},[t._v(t._s(a.product.title)+" 數量："+t._s(a.qty)+t._s(a.product.unit))])})),0)]),e("td",{staticClass:"text-center"},[t._v(t._s(t._f("currency")(a.total)))]),e("td",[a.is_paid?e("strong",{staticClass:"text-success"},[t._v("已付款")]):e("span",{staticClass:"text-muted"},[t._v("尚未付款")])]),e("td",[e("button",{staticClass:"btn btn-outline-primary btn-sm",on:{click:function(e){return t.getOrder(a.id)}}},[t._v("內容")])])])})),0)]),e("div",{staticClass:"modal fade",attrs:{id:"orderModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-width-ctrl",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[t._m(1),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-12"}),e("div",{staticClass:"form-group col-sm-6"},[e("div",{staticClass:"h5 text-dark"},[t._v("訂單資訊")]),e("div",{staticClass:"h6 text-dark"},[t._v(" 訂單日期： "),e("span",{staticClass:"text-grey"},[t._v(t._s(t._f("date")(t.order.create_at)))])]),e("div",{staticClass:"h6 text-dark"},[t._v(" 訂單編號： "),e("span",{staticClass:"text-grey"},[t._v(t._s(t.order.id))])]),e("hr"),e("div",{staticClass:"h5 text-dark"},[t._v("購買產品")]),e("ul",{staticClass:"list-unstyling"},t._l(t.order.products,(function(a,s){return e("li",{key:s},[t._v(t._s(a.product.title)+" 數量："+t._s(a.qty)+t._s(a.unit))])})),0),e("hr"),e("div",{staticClass:"h6 text-dark"},[t._v(" 總金額： "),e("span",{staticClass:"text-grey"},[t._v(t._s(t._f("currency")(t.order.total)))])]),e("div",{staticClass:"h6 text-dark"},[t._v(" 付款狀態： "),t.order.is_paid?e("span",{staticClass:"text-success"},[t._v("已完成付款")]):e("span",{staticClass:"text-danger"},[t._v("尚未付款")])])]),e("div",{staticClass:"form-group col-sm-6"},[e("div",{staticClass:"h5 text-dark"},[t._v("購買人資訊")]),e("div",{staticClass:"h6 text-dark"},[t._v(" 姓名： "),e("span",{staticClass:"text-grey"},[t._v(t._s(t.order.user.name))])]),e("div",{staticClass:"h6 text-dark"},[t._v(" 電話： "),e("span",{staticClass:"text-grey"},[t._v(t._s(t.order.user.tel))])]),e("div",{staticClass:"h6 text-dark"},[t._v(" 信箱： "),e("span",{staticClass:"text-grey"},[t._v(t._s(t.order.user.email))])]),e("div",{staticClass:"h6 text-dark"},[t._v(" 地址： "),e("span",{staticClass:"text-grey"},[t._v(t._s(t.order.user.address))])]),e("hr"),e("div",{staticClass:"h5 text-dark"},[t._v("購買人留言")]),t.order.message?e("div",{staticClass:"text-grey"},[t._v(t._s(t.order.message))]):e("div",{staticClass:"text-muted"},[t._v("-無客戶留言-")])])])])])])]),e("Pagination",{attrs:{pagination:t.pagination},on:{emitPages:t.getOrders}})],1)},Mt=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("tr",[e("th",[t._v("訂單時間")]),e("th",[t._v("購買人姓名")]),e("th",[t._v("聯絡電話")]),e("th",[t._v("Email")]),e("th",[t._v("購買款項")]),e("th",[t._v("應付金額")]),e("th",[t._v("是否付款")]),e("th",[t._v("詳細")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal-header bg-dark text-white"},[e("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v("訂單內容")]),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}],It=e("ade3"),Rt=(s={name:"Orders",data:function(){return{orders:[],order:{user:{name:"",tel:"",email:"",address:""}},isNew:!1,pagination:{total_page:1,current_page:1,has_pre:!1,has_next:!1,category:null}}},components:{Pagination:$t},methods:{getOrders:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=this,e="".concat(Object({NODE_ENV:"production",BASE_URL:"/projectA/"}).VUE_APP_APIPATH,"/api/").concat(Object({NODE_ENV:"production",BASE_URL:"/projectA/"}).VUE_APP_CUSTOMPATH,"/admin/orders?page=").concat(t);a.$store.dispatch("updateLoading",!0),this.$http.get(e,a.tempProduct).then((function(t){a.orders=t.data.orders,a.pagination=t.data.pagination,a.$store.dispatch("updateLoading",!1),console.log("getOrders",t)}))},getOrder:function(t){var a=this,e="".concat(Object({NODE_ENV:"production",BASE_URL:"/projectA/"}).VUE_APP_APIPATH,"/api/").concat(Object({NODE_ENV:"production",BASE_URL:"/projectA/"}).VUE_APP_CUSTOMPATH,"/order/").concat(t);this.$http.get(e).then((function(t){a.order=t.data.order,yt()("#orderModal").modal("show"),console.log("getOrder",t)}))}},computed:{sortOrder:function(){var t=this,a=[];return t.orders.length&&(a=t.orders.sort((function(t,a){var e=t.is_paid?1:0,s=a.is_paid?1:0;return s-e}))),a}}},Object(It["a"])(s,"computed",{isLoading:function(){return this.$store.state.isLoading}}),Object(It["a"])(s,"created",(function(){this.getOrders(),console.log(Object({NODE_ENV:"production",BASE_URL:"/projectA/"}).VUE_APP_APIPATH)})),s),Ht=Rt,Bt=(e("b67b"),Object(E["a"])(Ht,St,Mt,!1,null,"5c2341a6",null)),qt=Bt.exports,Ft=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"text-right"},[e("button",{staticClass:"btn btn-primary",on:{click:function(a){return t.openCouponModal(!0)}}},[t._v(" 建立新的優惠券 ")])]),e("table",{staticClass:"table mt-4"},[t._m(0),e("tbody",t._l(t.coupons,(function(a,s){return e("tr",{key:s},[e("td",[t._v(t._s(a.title))]),e("td",[t._v(t._s(a.percent)+"%")]),e("td",[t._v(t._s(t._f("date")(a.due_date)))]),e("td",[1===a.is_enabled?e("span",{staticClass:"text-success"},[t._v("啟用")]):e("span",{staticClass:"text-muted"},[t._v("未起用")])]),e("td",[e("button",{staticClass:"btn btn-outline-primary btn-sm",on:{click:function(e){return t.openCouponModal(!1,a)}}},[t._v("編輯")])])])})),0)]),e("div",{staticClass:"modal fade",attrs:{id:"couponModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[t._m(1),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"title"}},[t._v("標題")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempCoupon.title,expression:"tempCoupon.title"}],staticClass:"form-control",attrs:{type:"text",id:"title",placeholder:"請輸入標題"},domProps:{value:t.tempCoupon.title},on:{input:function(a){a.target.composing||t.$set(t.tempCoupon,"title",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"coupon_code"}},[t._v("優惠碼")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempCoupon.code,expression:"tempCoupon.code"}],staticClass:"form-control",attrs:{type:"text",id:"coupon_code",placeholder:"請輸入優惠碼"},domProps:{value:t.tempCoupon.code},on:{input:function(a){a.target.composing||t.$set(t.tempCoupon,"code",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"due_date"}},[t._v("到期日")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.due_date,expression:"due_date"}],staticClass:"form-control",attrs:{type:"date",id:"due_date"},domProps:{value:t.due_date},on:{input:function(a){a.target.composing||(t.due_date=a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"price"}},[t._v("折扣百分比")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempCoupon.percent,expression:"tempCoupon.percent"}],staticClass:"form-control",attrs:{type:"number",id:"price",placeholder:"請輸入折扣百分比"},domProps:{value:t.tempCoupon.percent},on:{input:function(a){a.target.composing||t.$set(t.tempCoupon,"percent",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("div",{staticClass:"form-check"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempCoupon.is_enabled,expression:"tempCoupon.is_enabled"}],staticClass:"form-check-input",attrs:{type:"checkbox","true-value":1,"false-value":0,id:"is_enabled"},domProps:{checked:Array.isArray(t.tempCoupon.is_enabled)?t._i(t.tempCoupon.is_enabled,null)>-1:t._q(t.tempCoupon.is_enabled,1)},on:{change:function(a){var e=t.tempCoupon.is_enabled,s=a.target,o=s.checked?1:0;if(Array.isArray(e)){var i=null,r=t._i(e,i);s.checked?r<0&&t.$set(t.tempCoupon,"is_enabled",e.concat([i])):r>-1&&t.$set(t.tempCoupon,"is_enabled",e.slice(0,r).concat(e.slice(r+1)))}else t.$set(t.tempCoupon,"is_enabled",o)}}}),e("label",{staticClass:"form-check-label",attrs:{for:"is_enabled"}},[t._v(" 是否啟用 ")])])])]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")]),e("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.updateCoupon}},[t._v("更新優惠券")])])])])])])},Gt=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("tr",[e("th",[t._v("名稱")]),e("th",[t._v("折扣百分比")]),e("th",[t._v("到期日")]),e("th",[t._v("是否啟用")]),e("th",[t._v("編輯")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v("Modal title")]),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}],Wt=(e("ac1f"),e("1276"),{name:"Coupons",props:{config:Object},data:function(){return{coupons:{},tempCoupon:{title:"",is_enabled:0,percent:100,due_date:0,code:""},due_date:new Date,isNew:!1}},watch:{due_date:function(){var t=this,a=Math.floor(new Date(t.due_date)/1e3);t.tempCoupon.due_date=a}},methods:{openCouponModal:function(t,a){var e=this;if(yt()("#couponModal").modal("show"),e.isNew=t,e.isNew)e.tempCoupon={};else{e.tempCoupon=Object.assign({},a);var s=new Date(1e3*e.tempCoupon.due_date).toISOString().split("T");e.due_date=s[0]}},getCoupons:function(){var t=this,a="".concat(Object({NODE_ENV:"production",BASE_URL:"/projectA/"}).VUE_APP_APIPATH,"/api/").concat(Object({NODE_ENV:"production",BASE_URL:"/projectA/"}).VUE_APP_CUSTOMPATH,"/admin/coupons");this.$http.get(a,t.tempProduct).then((function(a){t.coupons=a.data.coupons,console.log(a)}))},updateCoupon:function(){var t=this,a=this;if(a.isNew){var e="".concat(Object({NODE_ENV:"production",BASE_URL:"/projectA/"}).VUE_APP_APIPATH,"/api/").concat(Object({NODE_ENV:"production",BASE_URL:"/projectA/"}).VUE_APP_CUSTOMPATH,"/admin/coupon");this.$http.post(e,{data:a.tempCoupon}).then((function(e){console.log(e,a.tempCoupon),yt()("#couponModal").modal("hide"),t.getCoupons()}))}else{var s="".concat(Object({NODE_ENV:"production",BASE_URL:"/projectA/"}).VUE_APP_APIPATH,"/api/").concat(Object({NODE_ENV:"production",BASE_URL:"/projectA/"}).VUE_APP_CUSTOMPATH,"/admin/coupon/").concat(a.tempCoupon.id);a.due_date=new Date(1e3*a.tempCoupon.due_date),this.$http.put(s,{data:a.tempCoupon}).then((function(a){console.log(a),yt()("#couponModal").modal("hide"),t.getCoupons()}))}}},created:function(){this.getCoupons()}}),Jt=Wt,zt=(e("3dc6"),Object(E["a"])(Jt,Ft,Gt,!1,null,"ecc86116",null)),Qt=zt.exports,Yt=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"justify-content-center wrap"},[e("loading",{attrs:{loader:"bars",active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}},[e("div",{staticClass:"loadingio-spinner-ripple-wvqltc293nb"},[e("div",{staticClass:"ldio-4066br826ni"},[e("div"),e("div")])])]),t._m(0),e("div",{staticClass:"d-flex"},[e("div",{staticClass:"col-md-12 col-sm-12"},[e("h6",[t._v("購物車內容")]),e("table",{staticClass:"table mt-4"},[t._m(1),e("tbody",t._l(t.cart.carts,(function(a){return e("tr",{key:a.id},[e("td",{staticClass:"img-fluid product-img",style:{backgroundImage:"url("+a.product.imageUrl+")"}}),e("td",{staticClass:"align-middle"},[t._v(" "+t._s(a.product.title)+" "),a.coupon?e("div",{staticClass:"text-success"},[t._v("已套用優惠券")]):t._e()]),e("td",{staticClass:"align-middle"},[t._v(t._s(a.qty))]),e("td",{staticClass:"align-middle"},[t._v(t._s(t._f("currency")(a.qty*a.final_total)))])])})),0),e("tfoot",[e("tr",[e("td",{staticClass:"text-right txt-total",attrs:{colspan:"3"}},[t._v("總計")]),e("td",{staticClass:"text-center txt-total"},[t._v(t._s(t._f("currency")(t.cart.total)))])]),t.cart.final_total!==t.cart.total?e("tr",[e("td",{staticClass:"text-right text-success txt-total",attrs:{colspan:"3"}},[t._v("折扣價")]),e("td",{staticClass:"text-center text-success txt-total"},[t._v(t._s(t._f("currency")(t.cart.final_total)))])]):t._e()])]),e("div",{staticClass:"justify-content-center customer-info"},[e("form",{on:{submit:function(a){return a.preventDefault(),t.createOrder(a)}}},[e("h6",[t._v("請輸入您的資料")]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"useremail"}},[t._v("Email")]),e("input",{directives:[{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"},{name:"model",rawName:"v-model",value:t.form.user.email,expression:"form.user.email"}],staticClass:"form-control",class:{"is-invalid":t.errors.has("email")},attrs:{type:"email",name:"email",id:"useremail",placeholder:"請輸入 Email"},domProps:{value:t.form.user.email},on:{input:function(a){a.target.composing||t.$set(t.form.user,"email",a.target.value)}}}),t.errors.has("email")?e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("email")))]):t._e()]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"username"}},[t._v("收件人姓名")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.name,expression:"form.user.name"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",class:{"is-invalid":t.errors.has("name")},attrs:{type:"text",name:"name",id:"username",placeholder:"輸入姓名"},domProps:{value:t.form.user.name},on:{input:function(a){a.target.composing||t.$set(t.form.user,"name",a.target.value)}}}),t.errors.has("name")?e("span",{staticClass:"text-danger"},[t._v("姓名必須輸入")]):t._e()]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"usertel"}},[t._v("收件人電話")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.tel,expression:"form.user.tel"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",class:{"is-invalid":t.errors.has("tel")},attrs:{type:"tel",name:"tel",id:"usertel",placeholder:"請輸入電話"},domProps:{value:t.form.user.tel},on:{input:function(a){a.target.composing||t.$set(t.form.user,"tel",a.target.value)}}}),t.errors.has("tel")?e("span",{staticClass:"text-danger"},[t._v("須輸入電話號碼")]):t._e()]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"useraddress"}},[t._v("收件人地址")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.address,expression:"form.user.address"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",class:{"is-invalid":t.errors.has("address")},attrs:{type:"address",name:"address",id:"useraddress",placeholder:"請輸入地址"},domProps:{value:t.form.user.address},on:{input:function(a){a.target.composing||t.$set(t.form.user,"address",a.target.value)}}}),t.errors.has("address")?e("span",{staticClass:"text-danger"},[t._v("地址欄位不得留空")]):t._e()]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"useraddress"}},[t._v("留言")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.message,expression:"form.message"}],staticClass:"form-control",attrs:{name:"",id:"",cols:"30",rows:"10"},domProps:{value:t.form.message},on:{input:function(a){a.target.composing||t.$set(t.form,"message",a.target.value)}}})]),t._m(2)])])])])],1)},Zt=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"checkOut"},[e("h4",[t._v("結帳確認")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("tr",[e("th",{attrs:{colspan:"2",width:"50%"}},[t._v("品名")]),e("th",{attrs:{width:"25%"}},[t._v("數量")]),e("th",{attrs:{width:"25%"}},[t._v("小記")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"text-left"},[e("button",{staticClass:"btn btn-danger"},[t._v("送出訂單")])])}],Kt={name:"Cart",data:function(){return{cart:{},form:{user:{name:""}}}},methods:{getCart:function(){var t=this,a="".concat(Object({NODE_ENV:"production",BASE_URL:"/projectA/"}).VUE_APP_APIPATH,"/api/").concat(Object({NODE_ENV:"production",BASE_URL:"/projectA/"}).VUE_APP_CUSTOMPATH,"/cart");t.$store.dispatch("updateLoading",!0),this.$http.get(a).then((function(a){t.cart=a.data.data,console.log("getCart",a),t.isLoading=!1}))},removeCartItem:function(t){var a=this,e="".concat(Object({NODE_ENV:"production",BASE_URL:"/projectA/"}).VUE_APP_APIPATH,"/api/").concat(Object({NODE_ENV:"production",BASE_URL:"/projectA/"}).VUE_APP_CUSTOMPATH,"/cart/").concat(t);a.$store.dispatch("updateLoading",!0),this.$http.delete(e).then((function(t){a.getCart(),console.log("Cart Item removed",t),a.$store.dispatch("updateLoading",!1)}))},createOrder:function(){var t=this,a=this,e="".concat(Object({NODE_ENV:"production",BASE_URL:"/projectA/"}).VUE_APP_APIPATH,"/api/").concat(Object({NODE_ENV:"production",BASE_URL:"/projectA/"}).VUE_APP_CUSTOMPATH,"/order"),s=a.form;this.$validator.validate().then((function(o){o?t.$http.post(e,{data:s}).then((function(t){console.log("訂單已建立",t),t.data.success&&a.$router.push("customer_checkout/".concat(t.data.orderId)),a.$store.dispatch("updateLoading",!1)})):(console.log("欄位不完整"),a.$store.dispatch("updateLoading",!1))}))},removeItem:function(t){this.$emit("cartid",t)}},computed:{isLoading:function(){return this.$store.state.isLoading}},mounted:function(){this.getCart()}},Xt=Kt,ta=(e("35df"),Object(E["a"])(Xt,Yt,Zt,!1,null,"138d0bd4",null)),aa=ta.exports,ea=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("loading",{attrs:{loader:"bars",active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}},[e("div",{staticClass:"loadingio-spinner-ripple-wvqltc293nb"},[e("div",{staticClass:"ldio-4066br826ni"},[e("div"),e("div")])])]),t.cart.carts.length?e("div",{staticClass:"my-5 row table"},[e("table",{staticClass:"table mt-4"},[t._m(0),e("tbody",t._l(t.cart.carts,(function(a){return e("tr",{key:a.id},[e("td",{staticClass:"img-fluid product-img",style:{backgroundImage:"url("+a.product.imageUrl+")"}}),e("td",{staticClass:"align-middle"},[t._v(" "+t._s(a.product.title)+" "),a.coupon?e("div",{staticClass:"text-success"},[t._v("已套用優惠券")]):t._e()]),e("td",{staticClass:"align-middle"},[t._v(t._s(a.qty))]),e("td",{staticClass:"align-middle"},[t._v(t._s(t._f("currency")(a.qty*a.final_total)))]),e("td",{staticClass:"align-middle"},[e("button",{staticClass:"btn btn-danger btn-sm",attrs:{type:"button"},on:{click:function(e){return t.removeCartItem(a.id)}}},[e("i",{staticClass:"fas fa-trash-alt"})])])])})),0),e("tfoot",[e("tr",[e("td",{staticClass:"text-right txt-total",attrs:{colspan:"4"}},[t._v("總計")]),e("td",{staticClass:"text-center txt-total"},[t._v(t._s(t._f("currency")(t.cart.total)))])]),t.cart.final_total!==t.cart.total?e("tr",[e("td",{staticClass:"text-right text-success txt-total",attrs:{colspan:"4"}},[t._v("折扣價")]),e("td",{staticClass:"text-center text-success txt-total"},[t._v(t._s(t._f("currency")(t.cart.final_total)))])]):t._e()])]),e("div",{staticClass:"final-confirm"},[e("div",{staticClass:"final-price final-half"},[e("div",{staticClass:"final-coupon"},[t._m(1),e("div",{staticClass:"input-group mb-3 input-group-sm"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.coupon_code,expression:"coupon_code"}],staticClass:"form-control mr-3",attrs:{type:"text",placeholder:"請輸入優惠碼",id:"coupon"},domProps:{value:t.coupon_code},on:{input:function(a){a.target.composing||(t.coupon_code=a.target.value)}}}),e("div",{staticClass:"input-group-append"},[e("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button"},on:{click:t.addCouponCode}},[t._v("套用優惠碼")])])])]),e("h4",{staticClass:"text-right mb-6"},[t._v("付款資訊")]),e("hr"),e("div",{staticClass:"d-flex justify-content-between"},[e("span",{staticClass:"text-black text-left"},[t._v("訂單金額")]),e("strong",{staticClass:"text-black text-right"},[t._v(t._s(t._f("currency")(t.cart.final_total)))])]),e("router-link",{staticClass:"input-group-append go-checkout",attrs:{to:"/cart"}},[e("button",{staticClass:"btn btn-secondary text-center",attrs:{type:"button"}},[t._v("前 往 結 帳")])])],1)])]):0===t.cart.carts.length?e("div",{staticClass:"empty-cart"},[e("div",{staticClass:"h4 text-muted"},[t._v("哎呀！這裡沒有東西呢")]),e("i",{staticClass:"fas fa-grin-beam-sweat text-muted"}),e("div",{staticClass:"h4 text-muted"},[t._v("趕快去看看我們精美的商場～")]),e("router-link",{attrs:{to:"product_list"}},[e("button",{staticClass:"btn btn-secondary btn-lg"},[t._v("看看去")])])],1):t._e()],1)},sa=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("tr",[e("th",{attrs:{colspan:"2",width:"45%"}},[t._v("品名")]),e("th",{attrs:{width:"25%"}},[t._v("數量")]),e("th",{attrs:{width:"25%"}},[t._v("小記")]),e("th",{attrs:{width:"5%"}},[t._v("刪除")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"text-right"},[e("label",{staticClass:"text-black h4",attrs:{for:"coupon"}},[t._v("優惠券")]),e("br"),e("label",{attrs:{for:"coupon"}},[t._v("若您有優惠券，請於下方輸入優惠碼")])])}],oa={name:"CustomerOrders",data:function(){return{product:{},status:{loadingItem:""},coupon_code:"",form:{user:{name:"",email:"",tel:"",address:""},message:"這是留言"}}},methods:Object(S["a"])(Object(S["a"])({},Object(M["b"])(["getProducts","getCart","removeCartItem"])),{},{getProduct:function(t){var a=this,e="".concat(Object({NODE_ENV:"production",BASE_URL:"/projectA/"}).VUE_APP_APIPATH,"/api/").concat(Object({NODE_ENV:"production",BASE_URL:"/projectA/"}).VUE_APP_CUSTOMPATH,"/product/").concat(t);a.status.loadingItem=t,this.$http.get(e).then((function(t){a.product=t.data.product,yt()("#productModal").modal("show"),console.log("getProduct",t),a.status.loadingItem=""}))},addCouponCode:function(){var t=this,a="".concat(Object({NODE_ENV:"production",BASE_URL:"/projectA/"}).VUE_APP_APIPATH,"/api/").concat(Object({NODE_ENV:"production",BASE_URL:"/projectA/"}).VUE_APP_CUSTOMPATH,"/coupon"),e={code:t.coupon_code};t.$store.dispatch("updateLoading",!0),this.$http.post(a,{data:e}).then((function(a){t.getCart(),console.log("use coupon",a),t.$store.dispatch("updateLoading",!1)}))},createOrder:function(){var t=this,a=this,e="".concat(Object({NODE_ENV:"production",BASE_URL:"/projectA/"}).VUE_APP_APIPATH,"/api/").concat(Object({NODE_ENV:"production",BASE_URL:"/projectA/"}).VUE_APP_CUSTOMPATH,"/order"),s=a.form;this.$validator.validate().then((function(o){o?t.$http.post(e,{data:s}).then((function(t){console.log("訂單已建立",t),t.data.success&&a.$router.push("customer_checkout/".concat(t.data.orderId)),a.$store.dispatch("updateLoading",!1)})):(console.log("欄位不完整"),a.$store.dispatch("updateLoading",!1))}))}}),computed:Object(S["a"])({},Object(M["c"])(["isLoading","cart"])),created:function(){this.getProducts(),this.getCart()}},ia=oa,ra=(e("3ed2"),Object(E["a"])(ia,ea,sa,!1,null,"b91c51ce",null)),na=ra.exports,ca=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("loading",{attrs:{loader:"bars",active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}},[e("div",{staticClass:"loadingio-spinner-ripple-wvqltc293nb"},[e("div",{staticClass:"ldio-4066br826ni"},[e("div"),e("div")])])]),e("div",{staticClass:"wrap"},[e("div",{staticClass:"list-group col-md-4 col-sm-12 category"},[e("p",{staticClass:"text-center text-muted"},[t._v("商品分類")]),e("a",{staticClass:"tab list-group-item tab-bubble",class:{"active btn-light":"全部"==t.classification},attrs:{href:"#"},on:{click:function(a){a.preventDefault(),t.classification="全部"}}},[t._v("全部")]),e("a",{staticClass:"tab list-group-item tab-bubble",class:{"active btn-light":"服飾"==t.classification},attrs:{href:"#"},on:{click:function(a){a.preventDefault(),t.classification="服飾"}}},[t._v("服飾")]),e("a",{staticClass:"tab list-group-item tab-bubble",class:{"active btn-light":"玩具"==t.classification},attrs:{href:"#"},on:{click:function(a){a.preventDefault(),t.classification="玩具"}}},[t._v("玩具")]),e("a",{staticClass:"tab list-group-item tab-bubble",class:{"active btn-light":"配件"==t.classification},attrs:{href:"#"},on:{click:function(a){a.preventDefault(),t.classification="配件"}}},[t._v("配件")])]),e("div",{staticClass:"row mt-4 cardlist"},[e("div",{staticClass:"rwd-category col-sm-12"},[e("ul",[e("li",[e("a",{staticClass:"tab list-group-item col-sm-12 col-12",class:{"active btn-light":"全部"==t.classification},attrs:{href:"#"},on:{click:function(a){a.preventDefault(),t.classification="全部"}}},[t._v("全部")])]),e("li",[e("a",{staticClass:"tab list-group-item col-sm-12 col-12",class:{"active btn-light":"服飾"==t.classification},attrs:{href:"#"},on:{click:function(a){a.preventDefault(),t.classification="服飾"}}},[t._v("服飾")])]),e("li",[e("a",{staticClass:"tab list-group-item col-sm-12 col-12",class:{"active btn-light":"玩具"==t.classification},attrs:{href:"#"},on:{click:function(a){a.preventDefault(),t.classification="玩具"}}},[t._v("玩具")])]),e("li",[e("a",{staticClass:"tab list-group-item col-sm-12 col-12",class:{"active btn-light":"配件"==t.classification},attrs:{href:"#"},on:{click:function(a){a.preventDefault(),t.classification="配件"}}},[t._v("配件")])])])]),t._l(t.productFilter,(function(a){return e("div",{key:a.id,staticClass:"col-xl-4 col-lg-6 col-md-6 col-sm-6 mb-4 col-12"},[e("div",{staticClass:"card border-0 shadow-sm"},[e("figure",[e("div",{staticClass:"card-img",staticStyle:{height:"200px","background-size":"cover","background-position":"center"},style:{backgroundImage:"url("+a.imageUrl+")"},on:{click:function(e){return t.getProduct(a.id)}}},[t._m(0,!0)])]),e("div",{staticClass:"card-body flex-row"},[e("span",{staticClass:"badge badge-secondary text-white float-right ml-2"},[t._v(t._s(a.category))]),e("h5",{staticClass:"card-title"},[e("a",{staticClass:"text-dark",attrs:{href:"#"}},[e("span",{staticClass:"card-title"},[t._v(t._s(a.title))])])]),e("p",{staticClass:"card-text card-content"},[t._v(t._s(a.content))]),e("div",{staticClass:"d-flex justify-content-between align-items-baseline"},[a.price?t._e():e("div",{staticClass:"h5"},[t._v("NT:$"+t._s(a.origin_price)+" 元")]),a.price?e("del",{staticClass:"h6 text-secondary"},[t._v("NT:$"+t._s(a.origin_price)+" 元")]):t._e(),e("p"),a.price?e("div",{staticClass:"h5 font-bold"},[t._v("NT:$"+t._s(a.price)+" 元")]):t._e()]),e("div",[e("button",{staticClass:"btn btn-outline-info card-btn",attrs:{type:"button"},on:{click:function(e){return t.getProduct(a.id)}}},[e("i",{staticClass:"fas fa-search"})]),e("button",{staticClass:"btn btn-outline-primary card-btn",attrs:{type:"button"},on:{click:function(e){return t.addtoCart(a.id)}}},[e("i",{staticClass:"fas fa-shopping-cart text-center"}),e("span",[t._v("立即選購")])])])])])])}))],2)]),e("div",{staticClass:"modal fade",attrs:{id:"productModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v(t._s(t.product.title))]),t._m(1)]),e("div",{staticClass:"modal-body"},[e("img",{staticClass:"img-fluid",attrs:{src:t.product.imageUrl,alt:""}}),e("blockquote",{staticClass:"blockquote mt-3"},[e("p",{staticClass:"mb-0"},[t._v(t._s(t.product.content))]),e("footer",{staticClass:"blockquote-footer text-right"},[t._v(t._s(t.product.description))])]),e("div",{staticClass:"d-flex justify-content-between align-items-baseline"},[t.product.price?t._e():e("div",{staticClass:"h4"},[t._v("NT:$ "+t._s(t.product.origin_price)+" 元")]),t.product.price?e("del",{staticClass:"h6"},[t._v("NT:$ "+t._s(t.product.origin_price)+" 元")]):t._e(),t.product.price?e("div",{staticClass:"h4"},[t._v("NT:$ "+t._s(t.product.price)+" 元")]):t._e()]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.product.num,expression:"product.num"}],staticClass:"form-control mt-3",attrs:{name:""},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.product,"num",a.target.multiple?e:e[0])}}},t._l(10,(function(a){return e("option",{key:a,domProps:{value:a}},[t._v("選購 "+t._s(a)+" "+t._s(t.product.unit))])})),0)]),e("div",{staticClass:"modal-footer"},[e("div",{staticClass:"text-muted text-nowrap mr-3"},[t._v(" 小計 "),e("strong",[t._v(t._s(t.product.num*t.product.price))]),t._v(" 元 ")]),e("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(a){return t.addtoCart(t.product.id,t.product.num)}}},[t._v(" 加到購物車 ")])])])])])],1)},la=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"mask"},[e("p",[t._v("See more")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])}],da={data:function(){return{product:{},status:{loadingItem:""},wishes:{},storageArray:{},coupon_code:"",form:{user:{name:"",email:"",tel:"",address:""},message:"這是留言"},classification:"全部"}},methods:Object(S["a"])(Object(S["a"])({},Object(M["b"])(["getProducts","getCart","removeCartItem"])),{},{getProduct:function(t){var a=this,e="".concat(Object({NODE_ENV:"production",BASE_URL:"/projectA/"}).VUE_APP_APIPATH,"/api/").concat(Object({NODE_ENV:"production",BASE_URL:"/projectA/"}).VUE_APP_CUSTOMPATH,"/product/").concat(t);a.status.loadingItem=t,this.$http.get(e).then((function(t){a.product=t.data.product,yt()("#productModal").modal("show"),console.log("getProduct",t),a.status.loadingItem=""}))},addtoCart:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.$store.dispatch("addtoCart",{id:t,qty:a})}}),computed:Object(S["a"])({productFilter:function(){var t=this;return"全部"==t.classification?t.products:t.products.filter((function(a){return console.log("test",a.category==t.classification),a.category==t.classification}))}},Object(M["c"])(["isLoading","products","cart"])),created:function(){this.getProducts(),this.getCart()}},ua=da,pa=(e("f14f"),Object(E["a"])(ua,ca,la,!1,null,"619e9263",null)),ma=pa.exports,_a=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"my-5 row justify-content-center"},[e("form",{staticClass:"col-md-6",on:{submit:function(a){return a.preventDefault(),t.payOrder(a)}}},[e("table",{staticClass:"table col-sm-12"},[t._m(0),e("tbody",t._l(t.order.products,(function(a){return e("tr",{key:a.id},[e("td",{staticClass:"align-middle"},[t._v(t._s(a.product.title))]),e("td",{staticClass:"align-middle"},[t._v(t._s(a.qty)+"/"+t._s(a.product.unit))]),e("td",{staticClass:"align-middle text-right"},[t._v(t._s(a.final_total))])])})),0),e("tfoot",[e("tr",[e("td",{staticClass:"text-right",attrs:{colspan:"2"}},[t._v("總計")]),e("td",{staticClass:"text-right"},[t._v(t._s(t.order.total))])])])]),e("table",{staticClass:"table col-sm-12"},[e("tbody",[e("tr",[e("th",{attrs:{width:"100"}},[t._v("Email")]),e("td",[t._v(t._s(t.order.user.email))])]),e("tr",[e("th",[t._v("姓名")]),e("td",[t._v(t._s(t.order.user.name))])]),e("tr",[e("th",[t._v("收件人電話")]),e("td",[t._v(t._s(t.order.user.tel))])]),e("tr",[e("th",[t._v("收件人地址")]),e("td",[t._v(t._s(t.order.user.address))])]),e("tr",[e("th",[t._v("付款狀態")]),e("td",[t.order.is_paid?e("span",{staticClass:"text-success"},[t._v("付款完成")]):e("span",[t._v("尚未付款")])])])])]),!1===t.order.is_paid?e("div",{staticClass:"text-right"},[e("button",{staticClass:"btn btn-danger"},[t._v("確認付款去")])]):t._e()])])},va=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("th",[t._v("品名")]),e("th",[t._v("數量")]),e("th",[t._v("單價")])])}],fa={data:function(){return{order:{user:{address:"",email:"",tel:"",name:""}},orderId:""}},methods:{getOrder:function(){var t=this,a="".concat(Object({NODE_ENV:"production",BASE_URL:"/projectA/"}).VUE_APP_APIPATH,"/api/").concat(Object({NODE_ENV:"production",BASE_URL:"/projectA/"}).VUE_APP_CUSTOMPATH,"/order/").concat(t.orderId);t.$store.dispatch("updateLoading",!0),this.$http.get(a).then((function(a){t.order=a.data.order,console.log(a),t.$store.dispatch("updateLoading",!1)}))},payOrder:function(){var t=this,a="".concat(Object({NODE_ENV:"production",BASE_URL:"/projectA/"}).VUE_APP_APIPATH,"/api/").concat(Object({NODE_ENV:"production",BASE_URL:"/projectA/"}).VUE_APP_CUSTOMPATH,"/pay/").concat(t.orderId);t.$store.dispatch("updateLoading",!0),this.$http.post(a).then((function(a){console.log(a),a.data.success&&(alert("付款成功，再去我們的賣場看看吧！"),t.getOrder(),t.$router.push("/product_list")),t.$store.dispatch("updateLoading",!1)}))}},computed:{isLoading:function(){return this.$store.state.isLoading}},created:function(){console.log(this.orderId),this.getOrder()}},ga=fa,ha=Object(E["a"])(ga,_a,va,!1,null,null,null),ba=ha.exports,Ca=function(){var t=this,a=t.$createElement;t._self._c;return t._m(0)},Pa=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"wrap"},[e("div",{staticClass:"row"},[e("div",{staticClass:"intro-text mx-auto col-lg-6"},[e("h2",{staticClass:"title"},[t._v("關於DADDIES")]),e("p",[t._v("你也是一位想陪孩子玩耍，但有時已經變不出花招哄小孩的爸爸嗎？")]),e("br"),e("p",[t._v("現代的爸爸們兢兢業業地工作著，下班後回家最開心的事莫過於好好的放鬆，以及陪伴孩子玩樂。")]),e("br"),e("p",[t._v("在孩子的眼裡，爸爸就像是一個十項全能的超人，但有時候我們也會有力不從心的時候，無論是體力上或是精神上，這時，就讓我們來幫你吧！")]),e("br"),e("p",[t._v("透過我們的一些巧思，讓爸爸可以輕輕鬆鬆的陪伴孩子玩樂，並且我們也提供一些您生活上可能會用得到的小物品，能大大的提升您的生活品質。")]),e("br"),e("p",[t._v("身為爸爸，DADDIES懂你。")])]),e("div",{staticClass:"intro-img col-lg-6"},[e("img",{staticClass:"img-fluid rounded",attrs:{src:"https://imgur.com/wYBZtx7.jpg",alt:""}})])])])}],Aa={name:"About"},Ea=Aa,Oa=(e("8cda"),Object(E["a"])(Ea,Ca,Pa,!1,null,"84532698",null)),xa=Oa.exports,ya=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"wrap"},[e("div",{staticClass:"banner"},[e("div",{staticClass:"b-textarea"},[e("h3",{staticClass:"b-title"},[t._v("Not all heroes wear capes.")]),e("p",{staticClass:"b-content"},[t._v("They probably wear our shirts")]),e("router-link",{attrs:{to:"/product_list"}},[e("button",{staticClass:"btn",attrs:{type:"button"}},[t._v("Check them out")])])],1)])])},Na=[],ja={name:"Home"},Ua=ja,wa=(e("eedc"),Object(E["a"])(Ua,ya,Na,!1,null,"3b4b8064",null)),ka=wa.exports,$a=function(){var t=this,a=t.$createElement;t._self._c;return t._m(0)},La=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"wrap"},[e("div",{staticClass:"header"},[e("h1",[t._v("最新優惠")]),e("hr")]),e("div",{staticClass:"discount shadow-lg"},[e("h2",[t._v("父親節優惠")]),e("hr"),e("h5",[t._v("輸入以下代碼：")]),e("h1",[t._v("happy88")]),e("h5",[t._v("即可享商品88折優惠！")]),e("p",[t._v("活動只到2020.10.31，敬請把握")])])])}],Va={name:"Campaign"},Ta=Va,Da=(e("e42a"),Object(E["a"])(Ta,$a,La,!1,null,"276db3d0",null)),Sa=Da.exports,Ma=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v(t._s(t.product.title))]),t._m(0)]),e("div",{staticClass:"modal-body"},[e("img",{staticClass:"img-fluid",attrs:{src:t.product.imageUrl,alt:""}}),e("blockquote",{staticClass:"blockquote mt-3"},[e("p",{staticClass:"mb-0"},[t._v(t._s(t.product.content))]),e("footer",{staticClass:"blockquote-footer text-right"},[t._v(t._s(t.product.description))])]),e("div",{staticClass:"d-flex justify-content-between align-items-baseline"},[t.product.price?t._e():e("div",{staticClass:"h4"},[t._v("NT:$ "+t._s(t.product.origin_price)+" 元")]),t.product.price?e("del",{staticClass:"h6"},[t._v("NT:$ "+t._s(t.product.origin_price)+" 元")]):t._e(),t.product.price?e("div",{staticClass:"h4"},[t._v("NT:$ "+t._s(t.product.price)+" 元")]):t._e()]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.product.num,expression:"product.num"}],staticClass:"form-control mt-3",attrs:{name:""},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.product,"num",a.target.multiple?e:e[0])}}},t._l(10,(function(a){return e("option",{key:a,domProps:{value:a}},[t._v("選購 "+t._s(a)+" "+t._s(t.product.unit))])})),0)]),e("div",{staticClass:"modal-footer"},[e("div",{staticClass:"text-muted text-nowrap mr-3"},[t._v(" 小計 "),e("strong",[t._v(t._s(t.product.num*t.product.price))]),t._v(" 元 ")]),e("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(a){return t.addtoCart(t.product.id,t.product.num)}}},[t._v(" 加到購物車 ")])])])},Ia=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])}],Ra={data:function(){return{product:{}}},methods:{getProduct:function(t){var a=this,e="".concat(Object({NODE_ENV:"production",BASE_URL:"/projectA/"}).VUE_APP_APIPATH,"/api/").concat(Object({NODE_ENV:"production",BASE_URL:"/projectA/"}).VUE_APP_CUSTOMPATH,"/product/").concat(t);this.$http.get(e).then((function(t){a.product=t.data.product,yt()("#productModal").modal("show"),console.log("getProduct",t)}))}},computed:Object(S["a"])({},Object(M["c"])(["isLoading"])),created:function(){this.getProduct(id),console.log(this.$route.params.id),this.$route.params.id}},Ha=Ra,Ba=Object(E["a"])(Ha,Ma,Ia,!1,null,null,null),qa=Ba.exports,Fa=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("table",{staticClass:"table mt-4"},[t._m(0),e("tbody",t._l(t.wishList.wishes,(function(a){return e("tr",{key:a.id},[e("td",{staticClass:"img-fluid product-img",style:{backgroundImage:"url("+a.product.imageUrl+")"}}),e("td",{staticClass:"align-middle"},[t._v(" "+t._s(a.product.title)+" "),a.coupon?e("div",{staticClass:"text-success"},[t._v("已套用優惠券")]):t._e()]),e("td",{staticClass:"align-middle"},[t._v(t._s(a.qty))]),e("td",{staticClass:"align-middle"},[t._v(t._s(t._f("currency")(a.qty*a.final_total)))]),e("td",{staticClass:"align-middle"},[e("button",{staticClass:"btn btn-danger btn-sm",attrs:{type:"button"},on:{click:function(a){return t.removeWishItem()}}},[e("i",{staticClass:"fas fa-trash-alt"})])])])})),0)])])},Ga=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("tr",[e("th",{attrs:{colspan:"2",width:"45%"}},[t._v("品名")]),e("th",{attrs:{width:"25%"}},[t._v("數量")]),e("th",{attrs:{width:"25%"}},[t._v("小記")]),e("th",{attrs:{width:"5%"}},[t._v("刪除")])])])}],Wa={name:"Wish",data:function(){return{wishList:{}}},methods:{getWishList:function(){var t=this,a=JSON.parse(localStorage.getItem("wishes"));t.wishList=a}},created:function(){this.getWishList()}},Ja=Wa,za=Object(E["a"])(Ja,Fa,Ga,!1,null,null,null),Qa=za.exports;o["a"].use(y["a"]);var Ya=[{name:"Dashboard",path:"/",component:dt,children:[{name:"Home",path:"",component:ka},{name:"About",path:"about",component:xa},{name:"Campaign",path:"campaign",component:Sa},{name:"ProductList",path:"product_list",component:ma},{name:"Item",path:"product/:id",component:qa},{name:"Login",path:"login",component:$},{name:"Cart",path:"cart",component:aa},{name:"Wish",path:"wishlist",component:Qa},{name:"CustomerOrder",path:"customer_order",component:na},{name:"CustomerCheckout",path:"customer_checkout/:orderId",component:ba}]},{name:"Management",path:"/admin",component:At,children:[{name:"Products",path:"products",component:Dt,meta:{requiresAuth:!0}},{name:"Orders",path:"orders",component:qt,meta:{requiresAuth:!0}},{name:"Coupon",path:"coupon",component:Qt,meta:{requiresAuth:!0}}]}],Za=new y["a"]({routes:Ya}),Ka=Za,Xa={state:{products:[]},actions:{getProducts:function(t){var a="".concat(Object({NODE_ENV:"production",BASE_URL:"/projectA/"}).VUE_APP_APIPATH,"/api/").concat(Object({NODE_ENV:"production",BASE_URL:"/projectA/"}).VUE_APP_CUSTOMPATH,"/products");t.commit("LOADING",!0),r.a.get(a).then((function(a){t.commit("PRODUCTS",a.data.products),console.log("getProducts",a),t.commit("LOADING",!1)}))}},mutations:{PRODUCTS:function(t,a){t.products=a}},getters:{products:function(t){return t.products}}},te={state:{cart:{carts:{}}},actions:{getCart:function(t){var a="".concat(Object({NODE_ENV:"production",BASE_URL:"/projectA/"}).VUE_APP_APIPATH,"/api/").concat(Object({NODE_ENV:"production",BASE_URL:"/projectA/"}).VUE_APP_CUSTOMPATH,"/cart");t.commit("LOADING",!0),r.a.get(a).then((function(a){t.commit("CART",a.data.data),console.log("getCart",a),t.commit("LOADING",!1)}))},removeCartItem:function(t,a){var e="".concat(Object({NODE_ENV:"production",BASE_URL:"/projectA/"}).VUE_APP_APIPATH,"/api/").concat(Object({NODE_ENV:"production",BASE_URL:"/projectA/"}).VUE_APP_CUSTOMPATH,"/cart/").concat(a);t.commit("LOADING",!0),r.a.delete(e).then((function(a){t.dispatch("getCart"),console.log("Cart Item removed",a),t.commit("LOADING",!1)}))}},mutations:{CART:function(t,a){t.cart=a}},getters:{cart:function(t){return t.cart}}};o["a"].use(M["a"]);var ae=new M["a"].Store({state:{isLoading:!1,cart:{carts:[]}},actions:{updateLoading:function(t,a){t.commit("LOADING",a)},addtoCart:function(t,a){var e=a.id,s=a.qty,o=void 0===s?1:s,i="".concat(Object({NODE_ENV:"production",BASE_URL:"/projectA/"}).VUE_APP_APIPATH,"/api/").concat(Object({NODE_ENV:"production",BASE_URL:"/projectA/"}).VUE_APP_CUSTOMPATH,"/cart");t.commit("LOADING",!0);var n={product_id:e,qty:o};t.commit("LOADING",!0),r.a.post(i,{data:n}).then((function(a){t.commit("LOADING",!1),console.log("addtoCart",a),yt()("#productModal").modal("hide"),t.dispatch("getCart")}))}},mutations:{LOADING:function(t,a){t.isLoading=a}},getters:{isLoading:function(t){return t.isLoading}},modules:{productsModules:Xa,cartModules:te}});o["a"].prototype.$bus=new o["a"];e("a9e3"),e("b680"),e("5319");var ee=function(t){var a=Number(t);return"$".concat(a.toFixed(0).replace(/./g,(function(t,a,e){var s=a&&"."!==t&&(e.length-a)%3===0?", ".concat(t).replace(/\s/g,""):t;return s})))},se=function(t){var a=new Date(1e3*t);return a.toLocaleDateString()};l["d"].add(d["a"],d["b"],p["a"]),o["a"].component("font-awesome-icon",u["a"]),l["b"].watch(),o["a"].use(c.a,r.a),o["a"].config.productionTip=!1,o["a"].use(h["a"]);var oe=new h["a"]({locale:"zhTW"});o["a"].use(v["a"],{events:"input|blur",i18n:oe,dictionary:{zhTW:g.a}}),o["a"].component("Loading",_.a),o["a"].filter("currency",ee),o["a"].filter("date",se),r.a.defaults.withCredentials=!0,Ka.beforeEach((function(t,a,e){if(console.log("to",t,"from",a,"next",e),t.meta.requiresAuth){var s="".concat(Object({NODE_ENV:"production",BASE_URL:"/projectA/"}).VUE_APP_APIPATH,"/api/user/check");r.a.post(s).then((function(t){console.log(t.data),t.data.success?e():e("/login")}))}else e()})),new o["a"]({router:Ka,store:ae,i18n:oe,render:function(t){return t(x)}}).$mount("#app")},"5a04":function(t,a,e){},"5c0b":function(t,a,e){"use strict";var s=e("9c0c"),o=e.n(s);o.a},"84ba":function(t,a,e){"use strict";var s=e("f0e8"),o=e.n(s);o.a},"8cda":function(t,a,e){"use strict";var s=e("cb5e"),o=e.n(s);o.a},"9c0c":function(t,a,e){},"9e53":function(t,a,e){},"9fea":function(t,a,e){"use strict";var s=e("41ad"),o=e.n(s);o.a},af54:function(t,a,e){},b1d9:function(t,a,e){},b2a3:function(t,a,e){},b67b:function(t,a,e){"use strict";var s=e("d633"),o=e.n(s);o.a},cb5e:function(t,a,e){},ccda:function(t,a,e){"use strict";var s=e("9e53"),o=e.n(s);o.a},d4e5:function(t,a,e){},d608:function(t,a,e){},d633:function(t,a,e){},d950:function(t,a,e){"use strict";var s=e("2c52"),o=e.n(s);o.a},e42a:function(t,a,e){"use strict";var s=e("287c"),o=e.n(s);o.a},eedc:function(t,a,e){"use strict";var s=e("d608"),o=e.n(s);o.a},ef6c:function(t,a,e){"use strict";var s=e("af54"),o=e.n(s);o.a},f0e8:function(t,a,e){},f14f:function(t,a,e){"use strict";var s=e("46f4"),o=e.n(s);o.a},f2e7:function(t,a,e){}});
//# sourceMappingURL=app.3336709d.js.map